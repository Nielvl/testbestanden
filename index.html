<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Customer Management for Forklift Driver</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>
    <div class="container mx-auto px-4 py-8">
        <h1 class="text-2xl font-bold mb-4">Customer Management for Forklift Driver</h1>

        <div class="flex flex-wrap justify-between mb-8">
            <button id="sort-alpha" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Sort alphabetically
            </button>
            <button id="sort-time" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Sort by time
            </button>
            <button id="sort-original" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                Original order
            </button>
            <button id="scan-delivery" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                Scan delivery note
            </button>
        </div>

        <div id="klant-lijst" class="mb-8"></div>
    </div>

    <script>
        // Functie om de klantgegevens te laden
        async function loadCustomerData() {
            try {
                const response = await fetch(`https://cdn.jsdelivr.net/gh/Nielvl/KLANTEN/klantData.json?t=${new Date().getTime()}`);
                const data = await response.json();
                return data.customers;
            } catch (error) {
                console.error('Error loading customer data:', error);
                return [];
            }
        }

        // Functie om de klantenlijst weer te geven
        function displayCustomers(customers) {
            const customerList = document.getElementById('klant-lijst');
            customerList.innerHTML = '';

            customers.forEach(customer => {
                const customerDiv = document.createElement('div');
                customerDiv.className = 'border p-4 mb-4 rounded';
                customerDiv.innerHTML = `
                    <h2 class="text-xl font-bold">${customer.name}</h2>
                    <p>Customer Number: ${customer.customerNumber}</p>
                    <p>Time Slot: ${customer.timeSlot || 'Not specified'}</p>
                    <p>Preferences: ${customer.voorkeuren || 'None'}</p>
                `;
                customerList.appendChild(customerDiv);
            });
        }

        // Hoofdfunctie om de app te initialiseren
        async function initApp() {
            const customers = await loadCustomerData();
            displayCustomers(customers);

            // Event listeners voor sorteerknoppen
            document.getElementById('sort-alpha').addEventListener('click', () => {
                const sortedCustomers = [...customers].sort((a, b) => a.name.localeCompare(b.name));
                displayCustomers(sortedCustomers);
            });

            document.getElementById('sort-time').addEventListener('click', () => {
                const sortedCustomers = [...customers].sort((a, b) => {
                    if (!a.timeSlot) return 1;
                    if (!b.timeSlot) return -1;
                    return a.timeSlot.localeCompare(b.timeSlot);
                });
                displayCustomers(sortedCustomers);
            });

            document.getElementById('sort-original').addEventListener('click', () => {
                displayCustomers(customers);
            });

            // Placeholder voor scan functionaliteit
            document.getElementById('scan-delivery').addEventListener('click', () => {
                alert('Scan delivery note functionality not implemented yet.');
            });
        }

        // Start de app
        initApp();
    </script>
</body>
</html>